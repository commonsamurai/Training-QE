import React, { useState } from "react";
import { updateAssociate } from "../Service/AssociateService";
function UpdateAssociate(){
  const [state, setState] = useState({
    associateId: "",
    associateAddress:'',    
    message:''

  });

  const handleInputChange = (event) => {
    const { name, value } = event.target;
    setState((prevProps) => ({
      ...prevProps,
      [name]: value
    }));
  };

  const handleSubmit = (event) => {
    updateAssociate(state.associateId,state.associateAddress).then(data => {
      console.log("update assocuate return data ",data);
      setState({ message: 'Associate address updated successfully'});
     })
     .catch((err) => { 
      console.log(err)
      setState({ message: err});
   });
   
    event.preventDefault();
    console.log(state.message);
  };  

  return (
    <div class="main">
      <h3>Update Associate Information</h3>

      <form onSubmit= {handleSubmit}>
        <div className="form-control">
          <label>Associate Id</label>
          <input type="text"  id="associateId" name="associateId" value={state.associateId} onChange={handleInputChange}/>
        </div>
        <div className="form-control">
          <label>Update Address</label>
          <input type="text"  id="associateAddress" name="associateAddress"  value={state.associateAddress} onChange={handleInputChange}/>
        </div>        

        
              
          <button id="submit" type="submit" style={{alignContent:"center"}} onClick={handleSubmit}>Update Address</button>
       
      </form>
      <br></br>
                     <div id="message" style={{color:"yellow"}}>{state.message}</div>
    </div>
  );
    }	 	  	  		    	   	 	   	 	
  export default UpdateAssociate;
  