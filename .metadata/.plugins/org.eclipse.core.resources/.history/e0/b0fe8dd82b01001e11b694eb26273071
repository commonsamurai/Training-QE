import React, { useState } from "react";
import './AddCourse.css';
import {updateCourse} from "../Service/CourseService"
function UpdateCourse(){
  const [state, setState] = useState({
    courseId: "",
    fees:'',    
    message:''

  });

  const handleInputChange = (event) => {
    const { name, value } = event.target;
    setState((prevProps) => ({
      ...prevProps,
      [name]: value
    }));
  };

  const handleSubmit = (event) => {
   updateCourse(state.courseId,state.fees).then(data => {
      console.log("update course return data ",data);
      setState({ message: 'Course updated successfully'});
     })
     .catch((err) => { 
      console.log(err)
      setState({ message: err});
   });
  
    event.preventDefault();
    console.log(state.message);
  };  

  return (
    <div class="main">
      <h3>Update Course Fee</h3>

      <form onSubmit= {handleSubmit}>
        <div className="form-control">
          <label>Course Id</label>
          <input type="text"  id="courseId" name="courseId" value={state.courseId} onChange={handleInputChange}/>
        </div>
        <div className="form-control">
          <label>Updated Fees</label>
          <input type="number"  id="fees" name="fees"  value={state.courseFees} onChange={handleInputChange}/>
        </div>        

        
              
          <button id="submit" type="submit" style={{alignContent:"center"}} onClick={handleSubmit}>Update Course</button>
       
      </form>
      <br></br>
                     <div id="message" style={{color:"yellow"}}>{state.message}</div>
    </div>
  );
}	 	  	  		    	   	 	   	 	
  export default UpdateCourse;
  